module Day20Tests

open Xunit
open Day20

[<Fact>]
let ``Test toBinary`` () =
    let input = [ 1; 0; 1; 1 ]
    Assert.Equal(11, toBinary input)

[<Fact>]
let ``test value`` () =
    let img = Image.parse "...\n#..\n.#."
    Assert.Equal(34, value img (1, 1))

[<Fact>]
let ``test update`` () =
    let input =
        "..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..###..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###.######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#..#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#......#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.....####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#.......##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#

#..#.
#....
##..#
..#..
..###"

    let (alg, img) = parse input
    Assert.Equal('.', update alg img (1, 3))
